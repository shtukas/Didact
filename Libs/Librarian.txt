
- Librarian files, aka Miku files, are put in Galaxy/Librarian/MikuFiles/<index>/

- Miku files are named <L22>.miku

ShapeX:
    shapeXItem = 
        [keyname, "string"]
        [keyname, "json"]
        [keyname, "integer"]
        [keyname, "float"]

    shapeX = Array[shapeXItem]

-- [new] -----------------------------------------------------------

At _table1_ we expect the following attributes:
    "uuid"     : String # The file unique identifier
    "mikuType" : MikuType for the type of files carrying the Catalyst data from origin. 

where MikuType:
            "MxClassic"

(
    MikuType = "MxClassic"

    # attributes and other metadata
    create table _table1_ (_recorduuid_ text primary key, _unixtime_ float, _name_ string, _data_ blob) 

    # notes
    create table _notes_ (_uuid_ text primary key, _unixtime_ float, _text_ text)

    We expect in _table1_:
        "uuid"           : String
        "mikuType"       : "MxClassic"
        "description"    : String
        "unixtime"       : Float # Often the creation time, sometimes used for ordering
        "datetime"       : DateTime Iso8601 # Contextual editable time
        "classification" : TxClassifier
        "atom"           : Atom JSON encoded
        "ordinal"        : Float
        "domainx"        : DomainX

    # Note that ordinal and domainx have been added to "MxClassic" for simplicity, 
      although they are relevant to only some TxClassifiers.

    miku = {
        "uuid"           : String
        "mikuType"       : "MxClassic"
        "description"    : String
        "unixtime"       : Float # Often the creation time, sometimes used for ordering
        "datetime"       : DateTime Iso8601 # Contextual editable time
        "classification" : TxClassifier
        "atom"           : Atom
        "ordinal"        : Float
        "domainx"        : DomainX
    }

    Where:
        TxClassifier: 
            "CalendarItem" 
            "TxDated"
            "TxDrop"
            "TxFloat"
            "TxSpaceship"
            "TxTodo"
            "TxWorkItem"
            "Wave"
            "PureData"
            "PublicEvent"
            "PascalPrivateLog"

        DomainX:
            "eva"
            "work"

    Creation:
        Librarian::issueNewFileMxClassic(uuid, description, unixtime, datetime, classifier, atom, domainx, ordinal)

    To retrieve collections of Miku files by TxClassifier we use an index defined by:
        uuid-classifier-ordinal.sqlite3
            create table _index_ (_uuid_ text, _classifier_ text, _ordinal_ float);

    MTxNote {
        uuid     : String
        unixtime : Unixtime
        text     : String
    }
)

 



